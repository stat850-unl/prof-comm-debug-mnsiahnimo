---
title: "Homework: Reproducibility and Professional Communication"
execute:
  error: true
author: "Michael Nsiah-Nimo"
output: html_document

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
options(digits = 3)
```


# Reproducible Examples & Debugging

In the following examples, evaluate each problem using the criteria of a minimal reproducible example from [this StackOverflow post](https://stackoverflow.com/help/minimal-reproducible-example). 

Specifically, address the following things: 

1. Are the question and problem description complete?

2. Is the issue reproducible? Does it have a description of the problem, with code that reproduces the problem? What could improve it?

3. Is the example minimal? Does it include extra code or information that is not necessary?

4. Does the question describe any attempted solutions?


Then, using what you know about R and Python, try to debug the problem using the strategies in [the debugging chapter](https://srvanderplas.github.io/stat-computing-r-python/part-gen-prog/06-debugging.html). Once you are thoroughly stumped, or you believe you have solved the problem, compare your solutions to those given on StackOverflow using the link.

## Why Doesn't this R function work?

> I created the following function to append new strings on a vector of strings called "meals". However, when I use this function to append an string input into my "meals" vector, it does not work.

```
 add <- function(str) {
      meals <- append(meals, as.character(str))  
    }
```

[Link](https://stackoverflow.com/questions/39795961/why-doesnt-this-r-function-work?noredirect=1&lq=1) to original SO post. 


---

1. Are the question and problem description complete?

- No.
- The question lacks key context although the goal is explained.
- The exact error or unexpected output is not clear. For instance does it throw an error? or just not update `meals`.
- I don’t see how `meals` was created. I cannot tell if `meals` is supposed to live outside the function (global) or be returned. 


2. Is the issue reproducible? Does it have a description of the problem, with code that reproduces the problem? What could improve it?

- No.
- The variable `meals` is not defined globally or passed as an argument.
- The code doesn’t return anything or modify the global environment.
- Define `meals` before calling the function: Modify the function to return the updated vector:
and the show how the function is used:

3. Is the example minimal? Does it include extra code or information that is not necessary?

- Yes. The function and one vector are all that's needed. It is free of unnecessary details.

4. Does the question describe any attempted solutions?

- No. There’s no mention of what the user tried (e.g., using return(), or reassigning the vector).


## Function not working R

> I've never programmed before and am trying to learn. I'm following that "coursera" course that I've seen other people post about — a course offered by Johns Hopkins on R programming.

> Anyway, this was supposed to be my first function. Yet, it doesn't work! But when I type out all the steps individually, it runs just fine... Can anyone tell me why?

```
pollutantmean <- function(directory, pollutant, id = 1:332){
    x<- list.files("/Users/mike******/Desktop/directory", full.names=TRUE)
    y<- lapply(x, read.csv)
    z<- do.call(rbind.data.frame, y[id])

    mean(z$pollutant, na.rm=TRUE)
}
pollutantmean(specdata,nitrate,1:10)
[1] NA
Warning message:
In mean.default(z$pollutant, na.rm = TRUE) :
  argument is not numeric or logical: returning NA

####

x<- list.files("/Users/mike******/Desktop/specdata",full.names=TRUE)
y<- lapply(x,read.csv)
z<- do.call(rbind.data.frame,y[1:10])
mean(z$nitrate,na.rm=TRUE)
[1] 0.7976266
```


[Link](https://stackoverflow.com/questions/24123224/function-not-working-r/24141502)


---

1. Are the question and problem description complete?
 - The context is clear. Also the code and error messages are included which is great for debugging
 - The inputs and data used are not provided. For e.g. it is not clear what is inside `directory` argument.
 - Although, I can infer that they expect the mean of `nitrate` values, but it's not stated. The intended behavior isn't explicitly stated.


2. Is the issue reproducible? Does it have a description of the problem, with code that reproduces the problem? What could improve it?
- No
- The code cannot run as-is because:
- The directory `directory` doesn’t exist.
- `specdata` and `nitrate` are passed as unquoted variables instead of strings.
- The data files (.csvs) are not provided.


3. Is the example minimal? Does it include extra code or information that is not necessary?
- Moderately minimal
-The user shows only the essential function and test.
- However, there’s unnecessary absolute file path clutter `("/Users/mike...Desktop/directory")`, which could be replaced with a simple local path.


4. Does the question describe any attempted solutions?
- Yes, but implicitly.
- The user mentions “It works when I type all steps individually, but not inside the function.” That shows an attempted diagnostic, but they don’t articulate what they think is wrong or what they’ve tried to fix it.


## Inexplicable error when trying to export my R notebook

> Getting this error from R Markdown when trying to export my .RMD

```
"Error in filter(Gastropods, Species == "Cellana") :  object 'Species' not found Calls: <Anonymous> ... withCallingHandlers -> withVisible -> eval -> eval -> filter"
```

> However, all my plots are coming out successfully. I can clearly see in the data that the species column is there and that Cellana is a species. No spelling errors or anything.

> My first 20 or so lines of code are below (between the ### symbols)


````{r echo=FALSE}
cat(paste(readLines("https://raw.githubusercontent.com/unl-statistics/stat850/refs/heads/main/homework/debugging_3.txt"), collapse = '\n'))
````

You can find this sample file [here](https://raw.githubusercontent.com/unl-statistics/stat850/refs/heads/main/homework/debugging_3.txt)


[Link](https://stackoverflow.com/questions/44193367/inexplicable-error-when-trying-to-export-my-r-notebook)

---

1. Are the question and problem description complete?

- Almost, but not fully.
- The exact error is stated which is good. 
- Due to the nature of the error an actual data structure description (or at least str(Gastropods) or names(Gastropods)) is important, because R is literally saying: there’s no column called Species at knit-time.
- There is an `i` which I  think in the presentation of the problem was included as part of the chunk, which I think could be breaking the knit.

2. Is the issue reproducible? Does it have a description of the problem, with code that reproduces the problem? What could improve it?

- No.In R,`library(ggplot2, dplyr)` does not load two packages. It doesn’t work like Python imports. 
- That line loads only ggplot2. So in the knitted document, `dplyr` is never loaded, and then `filter(...)` may not behave as expected.
- Also because it was mentioned that it works might be because the user run `dplyr` earlier in console. But in R markdown, when it knits , it starts on a clean session.
- To make it reproducible the code chunk should have `library(ggplot2), library(dplyr), Gastropods <- read.csv("MaroubraZones.csv")`
- Alternatively , user could include a simple data set mimicking actual data , so that no csv is needed.

3. Is the example minimal? Does it include extra code or information that is not necessary?
- Mostly Yes.
- The example includes only what’s necessary to reproduce the error — loading libraries, reading the dataset, filtering, and plotting. That’s a good sign of minimality. However, if the goal is just to debug the `filter()` error, the plotting section and extra formatting aren’t required.

4. Does the question describe any attempted solutions?
- No.
- The mention for instance “No spelling errors or anything,” which shows they checked one thing. But they didn’t say: `“I tried dplyr::filter(...)”, “I tried moving library(dplyr) to the first chunk”, “I checked names(Gastropods) inside the knitted doc”. `
- Adding items which they actually tried, would have shown the direction of the problem a bit more clearer.


## Python if elif else statement

> I'm trying to create a program with python that calculate the cost for shipping.

> However, I can't run the program to where it works properly.

> What ever my total is the same amount comes out as $6 for US and $8 for Canada. I can't seem to get pass that.

> Example:

```
total = raw_input('What is the total amount for your online shopping?')
country = raw_input('Shipping within the US or Canada?')

if country == "US":
    if total <= "50":
        print "Shipping Costs $6.00"
    elif total <= "100":
            print "Shipping Costs $9.00"
    elif total <= "150":
            print "Shipping Costs $12.00"
    else:
        print "FREE"

if country == "Canada":
    if total <= "50":
        print "Shipping Costs $8.00"
    elif total <= "100":
        print "Shipping Costs $12.00"
    elif total <= "150":
        print "Shipping Costs $15.00"
    else:
        print "FREE"
```


[Link](https://stackoverflow.com/questions/19371643/python-if-elif-else-statement)

---

1. Are the question and problem description complete?
- Yes. 
- They clearly describe the issue.What they’re trying to do: calculate shipping cost.
- The issue: “Whatever my total is, the same amount comes out.”
- They also includes sample inputs (“$6 for US and $8 for Canada”)
- I think from the previous examples. They could have stated what they expected to happen for certain totals. The expectations vs actual comparisons could help readers see the. logic of the issue faster

2. Is the issue reproducible? Does it have a description of the problem, with code that reproduces the problem? What could improve it?

- Yes. The provided code is runnable as-is and the issue (always printing $6 or $8) is reproducible.

3. Is the example minimal? Does it include extra code or information that is not necessary?

- Yes. 
- The code contains only: variable inputs, conditional logic and print statements
- No unnecessary loops, imports, or extra formatting.
- I think employing a fewer branches while keeping it readable will make it more minimal, but it’s already concise.

4. Does the question describe any attempted solutions?
- Not fully
- They describe the symptom but not what they’ve tried to fix it. 
- They could improve by adding: “I tried using int(total) but got an error,”
or “I added print statements but can’t see why it doesn’t change.”
- That shows debugging effort and helps responders focus on the numeric-type issue.


# Professional Communication

## Slides

Create a set of quarto slides in the file slides.qmd. 

Set two different output formats - for instance, reveal.js and beamer. 

In your slides:

- Introduce yourself and show a picture of yourself
- Provide basic biographical information: birthday, where you grew up
- Show a picture of your favorite animal
- Provide your favorite plot, generated in either R or python. (This can be one you've generated in this class). Ensure that the code does not show, but the plot does.
- Provide a link to your CV, which you will generate in the next part.

## CV

Select a CV template that uses either LaTeX or Markdown:

- https://github.com/kazuyanagimoto/quarto-awesomecv-typst
- https://github.com/schochastics/quarto-cv
- https://www.overleaf.com/latex/templates/tagged/cv

Use the template to create a curriculum vitae that has your education, work experience, and any other sections you would like to include. Compile your CV and link to it in your slides. 
